

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Wind Integration National Dataset (WIND) Toolkit &mdash; rex 0.1.3 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="rex package" href="../rex/rex.html" />
    <link rel="prev" title="National Solar Radiation Database (NSRDB)" href="examples.nsrdb.html" />
    <link href="../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> rex
          

          
          </a>

          
            
            
              <div class="version">
                0.1.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="misc.html">Installation and Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="installation.html#option-1-pip-install-recommended-for-analysts">Option 1: PIP Install (recommended for analysts):</a></li>
<li class="toctree-l3"><a class="reference internal" href="installation.html#option-2-clone-repo-recommended-for-developers">Option 2: Clone repo (recommended for developers)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#usage-on-eagle">Usage on Eagle</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#command-line-tools">Command Line Tools</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="misc.html#examples">Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="examples.nsrdb.html">National Solar Radiation Database (NSRDB)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="examples.nsrdb.html#data-format">Data Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="examples.nsrdb.html#nsrdb-module">NSRDB Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="examples.nsrdb.html#nsrdbx-class">NSRDBX class</a></li>
<li class="toctree-l3"><a class="reference internal" href="examples.nsrdb.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Wind Integration National Dataset (WIND) Toolkit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#model">Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#domains">Domains</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-format">Data Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wind-module">WIND Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#windx-class">WindX class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../rex/rex.html">rex package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../rex/rex.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rex/rex.rechunk_h5.html">rex.rechunk_h5 package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rex/rex.rechunk_h5.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rex/rex.utilities.html">rex.utilities package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rex/rex.utilities.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rex/rex.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rex/rex.renewable_resource.html">rex.renewable_resource module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rex/rex.resource.html">rex.resource module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rex/rex.resource_cli.html">rex.resource_cli module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rex/rex.resource_cli.html#rex">rex</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rex/rex.resource_extraction.html">rex.resource_extraction module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rex/rex.sam_resource.html">rex.sam_resource module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rex/rex.solar_cli.html">rex.solar_cli module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rex/rex.solar_cli.html#nsrdb">NSRDB</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rex/rex.version.html">rex.version module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rex/rex.wind_cli.html">rex.wind_cli module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rex/rex.wind_cli.html#wind">WIND</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">rex</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="misc.html">Installation and Usage</a> &raquo;</li>
        
      <li>Wind Integration National Dataset (WIND) Toolkit</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/misc/examples.wind.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="wind-integration-national-dataset-wind-toolkit">
<h1>Wind Integration National Dataset (WIND) Toolkit<a class="headerlink" href="#wind-integration-national-dataset-wind-toolkit" title="Permalink to this headline">¶</a></h1>
<div class="section" id="model">
<h2>Model<a class="headerlink" href="#model" title="Permalink to this headline">¶</a></h2>
<p>Wind resource data for North America was produced using the <a class="reference external" href="https://www.mmm.ucar.edu/weather-research-and-forecasting-model">Weather Research and Forecasting Model (WRF)</a>.
The WRF model was initialized with the European Centre for Medium Range Weather
Forecasts Interim Reanalysis (ERA-Interm) data set with an initial grid spacing
of 54 km.  Three internal nested domains were used to refine the spatial
resolution to 18, 6, and finally 2 km.  The WRF model was run for years 2007 to
2014. While outputs were extracted from WRF at 5 minute time-steps, due to
storage limitations instantaneous hourly time-step are provided for all
variables while full 5 min resolution data is provided for wind speed and wind
direction only.</p>
<p>The following variables were extracted from the WRF model data:</p>
<ul class="simple">
<li><p>Wind Speed at 10, 40, 60, 80, 100, 120, 140, 160, 200 m</p></li>
<li><p>Wind Direction at 10, 40, 60, 80, 100, 120, 140, 160, 200 m</p></li>
<li><p>Temperature at 2, 10, 40, 60, 80, 100, 120, 140, 160, 200 m</p></li>
<li><p>Pressure at 0, 100, 200 m</p></li>
<li><p>Surface Precipitation Rate</p></li>
<li><p>Surface Relative Humidity</p></li>
<li><p>Inverse Monin Obukhov Length</p></li>
</ul>
</div>
<div class="section" id="domains">
<h2>Domains<a class="headerlink" href="#domains" title="Permalink to this headline">¶</a></h2>
<p>The wind resource was produce using three distinct WRF domains shown below. The
CONUS domain for 2007-2013 was run by 3Tier while 2014 as well as all years of
the Canada and Mexico domains were run under NARIS. The data is provided in
three sets of files:</p>
<ul class="simple">
<li><p>CONUS: Extracted exclusively from the CONUS domain</p></li>
<li><p>Canada: Combined data from the Canada and CONUS domains</p></li>
<li><p>Mexico: Combined data from the Mexico and CONUS domains</p></li>
</ul>
</div>
<div class="section" id="data-format">
<h2>Data Format<a class="headerlink" href="#data-format" title="Permalink to this headline">¶</a></h2>
<p>The data is provided in high density data file (.h5) separated by year. The
variables mentioned above are provided in 2 dimensional time-series arrays with
dimensions (time x location). The temporal axis is defined by the
<code class="docutils literal notranslate"><span class="pre">time_index</span></code> dataset, while the positional axis is defined by the <code class="docutils literal notranslate"><span class="pre">meta</span></code>
dataset. For storage efficiency each variable has been scaled and stored as an
integer. The scale-factor is provided in the <code class="docutils literal notranslate"><span class="pre">scale-factor</span></code> attribute.  The
units for the variable data is also provided as an attribute (<code class="docutils literal notranslate"><span class="pre">units</span></code>).</p>
</div>
<div class="section" id="wind-module">
<h2>WIND Module<a class="headerlink" href="#wind-module" title="Permalink to this headline">¶</a></h2>
<p>An extraction utility for the WIND (WTK) data has been created with in
<a class="reference external" href="https://github.com/nrel/rex">rex</a> and is available on Eagle as a module:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module use /datasets/modulefiles
module load rex
</pre></div>
</div>
<p>The <cite>rex</cite> module provides a <a class="reference external" href="https://nrel.github.io/rex/rex/rex.resource_extraction.wind_cli.html#wind">WIND</a>
command line utility with the following options and commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage: WIND <span class="o">[</span>OPTIONS<span class="o">]</span> COMMAND <span class="o">[</span>ARGS<span class="o">]</span>...

  WindX Command Line Interface

Options:
  -h5, --wind_h5 PATH  Path to Resource .h5 file  <span class="o">[</span>required<span class="o">]</span>
  -o, --out_dir PATH   Directory to dump output files  <span class="o">[</span>required<span class="o">]</span>
  -t, --compute_tree   Flag to force the computation of the cKDTree
  -v, --verbose        Flag to turn on debug logging. Default is not verbose.
  --help               Show this message and exit.

Commands:
  multi-site  Extract multiple sites given in <span class="s1">&#39;--sites&#39;</span> .csv or .json as...
  region      Extract a single dataset <span class="k">for</span> all pixels in the given region
  sam-file    Extract all datasets at the given hub height needed <span class="k">for</span> SAM...
  site        Extract a single dataset <span class="k">for</span> the nearest pixel to the given...
  timestep    Extract a single dataset <span class="k">for</span> a single timestep Extract only...
</pre></div>
</div>
</div>
<div class="section" id="windx-class">
<h2>WindX class<a class="headerlink" href="#windx-class" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rex</span> <span class="kn">import</span> <span class="n">WindX</span>

<span class="n">wtk_file</span> <span class="o">=</span> <span class="s1">&#39;/datasets/WIND/conus/v1.0.0/wtk_conus_2010.h5&#39;</span>
<span class="k">with</span> <span class="n">WindX</span><span class="p">(</span><span class="n">wtk_file</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">meta</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">meta</span>
    <span class="n">time_index</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">time_index</span>
    <span class="n">wspd_100m</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;windspeed_100m&#39;</span><span class="p">][:,</span> <span class="p">::</span><span class="mi">1000</span><span class="p">]</span>
</pre></div>
</div>
<p>Note: <cite>WindX</cite> will automatically interpolate to the desired hub-height:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rex</span> <span class="kn">import</span> <span class="n">WindX</span>

<span class="n">wtk_file</span> <span class="o">=</span> <span class="s1">&#39;/datasets/WIND/conus/v1.0.0/wtk_conus_2010.h5&#39;</span>
<span class="k">with</span> <span class="n">WindX</span><span class="p">(</span><span class="n">wtk_file</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">datasets</span><span class="p">)</span>  <span class="c1"># not 90m is not a valid dataset</span>
    <span class="n">wspd_90m</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;windspeed_90m&#39;</span><span class="p">][:,</span> <span class="p">::</span><span class="mi">1000</span><span class="p">]</span>
</pre></div>
</div>
<p><cite>WindX</cite> also allows easy extraction of the nearest site to a desired (lat, lon)
location:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rex</span> <span class="kn">import</span> <span class="n">WindX</span>

<span class="n">wtk_file</span> <span class="o">=</span> <span class="s1">&#39;/datasets/WIND/conus/v1.0.0/wtk_conus_2010.h5&#39;</span>
<span class="n">nwtc</span> <span class="o">=</span> <span class="p">(</span><span class="mf">39.913561</span><span class="p">,</span> <span class="o">-</span><span class="mf">105.222422</span><span class="p">)</span>
<span class="k">with</span> <span class="n">WindX</span><span class="p">(</span><span class="n">wtk_file</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">nwtc_wspd</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">get_lat_lon_df</span><span class="p">(</span><span class="s1">&#39;windspeed_100m&#39;</span><span class="p">,</span> <span class="n">nwtc</span><span class="p">)</span>
</pre></div>
</div>
<p>or to extract all sites in a given region:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rex</span> <span class="kn">import</span> <span class="n">WindX</span>

<span class="n">wtk_file</span> <span class="o">=</span> <span class="s1">&#39;/datasets/WIND/conus/v1.0.0/wtk_conus_2010.h5&#39;</span>
<span class="n">state</span><span class="o">=</span><span class="s1">&#39;Colorado&#39;</span>
<span class="k">with</span> <span class="n">WindX</span><span class="p">(</span><span class="n">wtk_file</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">co_wspd</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">get_region_df</span><span class="p">(</span><span class="s1">&#39;windspeed_100m&#39;</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">region_col</span><span class="o">=</span><span class="s1">&#39;state&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Lastly, <cite>WindX</cite> can be used to extract all variables needed to run SAM at a
given location:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rex</span> <span class="kn">import</span> <span class="n">WindX</span>

<span class="n">wtk_file</span> <span class="o">=</span> <span class="s1">&#39;/datasets/WIND/conus/v1.0.0/wtk_conus_2010.h5&#39;</span>
<span class="n">nwtc</span> <span class="o">=</span> <span class="p">(</span><span class="mf">39.913561</span><span class="p">,</span> <span class="o">-</span><span class="mf">105.222422</span><span class="p">)</span>
<span class="k">with</span> <span class="n">WindX</span><span class="p">(</span><span class="n">wtk_file</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">nwtc_sam_vars</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">get_SAM_df</span><span class="p">(</span><span class="n">nwtc</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p>For more information about the WIND Toolkit please see the <a class="reference external" href="https://www.nrel.gov/grid/wind-toolkit.html">website.</a>
Users of the WIND Toolkit should use the following citations:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.nrel.gov/docs/fy15osti/61740.pdf">Draxl, C., B.M. Hodge, A. Clifton, and J. McCaa. 2015. Overview and Meteorological Validation of the Wind Integration National Dataset Toolkit (Technical Report, NREL/TP-5000-61740). Golden, CO: National Renewable Energy Laboratory.</a></p></li>
<li><p><a class="reference external" href="https://www.sciencedirect.com/science/article/pii/S0306261915004237?via%3Dihub">Draxl, C., B.M. Hodge, A. Clifton, and J. McCaa. 2015. “The Wind Integration National Dataset (WIND) Toolkit.” Applied Energy 151: 355366.</a></p></li>
<li><p><a class="reference external" href="https://www.nrel.gov/docs/fy15osti/62595.pdf">Lieberman-Cribbin, W., C. Draxl, and A. Clifton. 2014. Guide to Using the WIND Toolkit Validation Code (Technical Report, NREL/TP-5000-62595). Golden, CO: National Renewable Energy Laboratory.</a></p></li>
<li><p><a class="reference external" href="https://www.nrel.gov/docs/fy14osti/61714.pdf">King, J., A. Clifton, and B.M. Hodge. 2014. Validation of Power Output for the WIND Toolkit (Technical Report, NREL/TP-5D00-61714). Golden, CO: National Renewable Energy Laboratory.</a></p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../rex/rex.html" class="btn btn-neutral float-right" title="rex package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="examples.nsrdb.html" class="btn btn-neutral float-left" title="National Solar Radiation Database (NSRDB)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Alliance for Sustainable Energy, LLC

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>