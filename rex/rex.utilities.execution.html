

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>rex.utilities.execution module &mdash; rex 0.1.3 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="rex.utilities.loggers module" href="rex.utilities.loggers.html" />
    <link rel="prev" title="rex.utilities.exceptions module" href="rex.utilities.exceptions.html" />
    <link href="../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> rex
          

          
          </a>

          
            
            
              <div class="version">
                0.1.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../misc/misc.html">Installation and Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../misc/installation.html">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../misc/installation.html#option-1-pip-install-recommended-for-analysts">Option 1: PIP Install (recommended for analysts):</a></li>
<li class="toctree-l3"><a class="reference internal" href="../misc/installation.html#option-2-clone-repo-recommended-for-developers">Option 2: Clone repo (recommended for developers)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../misc/installation.html#usage-on-eagle">Usage on Eagle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/installation.html#command-line-tools">Command Line Tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../misc/misc.html#examples">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../misc/examples.nsrdb.html">National Solar Radiation Database (NSRDB)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../misc/examples.nsrdb.html#data-format">Data Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../misc/examples.nsrdb.html#nsrdb-module">NSRDB Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../misc/examples.nsrdb.html#nsrdbx-class">NSRDBX class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../misc/examples.nsrdb.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../misc/examples.wind.html">Wind Integration National Dataset (WIND) Toolkit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../misc/examples.wind.html#model">Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../misc/examples.wind.html#domains">Domains</a></li>
<li class="toctree-l3"><a class="reference internal" href="../misc/examples.wind.html#data-format">Data Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../misc/examples.wind.html#wind-module">WIND Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../misc/examples.wind.html#windx-class">WindX class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../misc/examples.wind.html#references">References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="rex.html">rex package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="rex.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="rex.rechunk_h5.html">rex.rechunk_h5 package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rex.rechunk_h5.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="reference internal" href="rex.utilities.html">rex.utilities package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="rex.utilities.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rex.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rex.renewable_resource.html">rex.renewable_resource module</a></li>
<li class="toctree-l3"><a class="reference internal" href="rex.resource.html">rex.resource module</a></li>
<li class="toctree-l3"><a class="reference internal" href="rex.resource_cli.html">rex.resource_cli module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rex.resource_cli.html#rex">rex</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rex.resource_extraction.html">rex.resource_extraction module</a></li>
<li class="toctree-l3"><a class="reference internal" href="rex.sam_resource.html">rex.sam_resource module</a></li>
<li class="toctree-l3"><a class="reference internal" href="rex.solar_cli.html">rex.solar_cli module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rex.solar_cli.html#nsrdb">NSRDB</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rex.version.html">rex.version module</a></li>
<li class="toctree-l3"><a class="reference internal" href="rex.wind_cli.html">rex.wind_cli module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rex.wind_cli.html#wind">WIND</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">rex</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="rex.html">rex package</a> &raquo;</li>
        
          <li><a href="rex.utilities.html">rex.utilities package</a> &raquo;</li>
        
      <li>rex.utilities.execution module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/rex/rex.utilities.execution.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-rex.utilities.execution">
<span id="rex-utilities-execution-module"></span><h1>rex.utilities.execution module<a class="headerlink" href="#module-rex.utilities.execution" title="Permalink to this headline">¶</a></h1>
<p>Execution utilities.</p>
<dl class="py class">
<dt id="rex.utilities.execution.SubprocessManager">
<em class="property">class </em><code class="sig-prename descclassname">rex.utilities.execution.</code><code class="sig-name descname">SubprocessManager</code><a class="reference internal" href="../_modules/rex/utilities/execution.html#SubprocessManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SubprocessManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class to handle subprocess execution.</p>
<dl class="py attribute">
<dt id="rex.utilities.execution.SubprocessManager.USER">
<code class="sig-name descname">USER</code><em class="property"> = 'runner'</em><a class="headerlink" href="#rex.utilities.execution.SubprocessManager.USER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SubprocessManager.make_path">
<em class="property">static </em><code class="sig-name descname">make_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SubprocessManager.make_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SubprocessManager.make_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a directory tree if it doesn’t exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d</strong> (<em>str</em>) – Directory tree to check and potentially create.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SubprocessManager.make_sh">
<em class="property">static </em><code class="sig-name descname">make_sh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span></em>, <em class="sig-param"><span class="n">script</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SubprocessManager.make_sh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SubprocessManager.make_sh" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a shell script (.sh file) to execute a subprocess.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> (<em>str</em>) – Name of the .sh file to create.</p></li>
<li><p><strong>script</strong> (<em>str</em>) – Contents to be written into the .sh file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SubprocessManager.rm">
<em class="property">static </em><code class="sig-name descname">rm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SubprocessManager.rm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SubprocessManager.rm" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fname</strong> (<em>str</em>) – Filename (with path) to remove.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SubprocessManager.submit">
<em class="property">static </em><code class="sig-name descname">submit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cmd</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SubprocessManager.submit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SubprocessManager.submit" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a subprocess and submit a command.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cmd</strong> (<em>str</em>) – Command to be submitted using python subprocess.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>stdout</strong> (<em>str</em>) – Subprocess standard output. This is decoded from the subprocess
stdout with rstrip.</p></li>
<li><p><strong>stderr</strong> (<em>str</em>) – Subprocess standard error. This is decoded from the subprocess
stderr with rstrip. After decoding/rstrip, this will be empty if
the subprocess doesn’t return an error.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SubprocessManager.s">
<em class="property">static </em><code class="sig-name descname">s</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SubprocessManager.s"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SubprocessManager.s" title="Permalink to this definition">¶</a></dt>
<dd><p>Format input as str w/ appropriate quote types for python cli entry.</p>
<p class="rubric">Examples</p>
<p>list, tuple -&gt; “[‘one’, ‘two’]”
dict -&gt; “{‘key’: ‘val’}”
int, float, None -&gt; ‘0’
str, other -&gt; ‘string’</p>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SubprocessManager.walltime">
<em class="property">static </em><code class="sig-name descname">walltime</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hours</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SubprocessManager.walltime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SubprocessManager.walltime" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the SLURM walltime string in format “HH:MM:SS”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hours</strong> (<em>float | int</em>) – Requested number of job hours.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>walltime</strong> (<em>str</em>) – SLURM walltime request in format “HH:MM:SS”</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="rex.utilities.execution.PBS">
<em class="property">class </em><code class="sig-prename descclassname">rex.utilities.execution.</code><code class="sig-name descname">PBS</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cmd</span></em>, <em class="sig-param"><span class="n">alloc</span></em>, <em class="sig-param"><span class="n">queue</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'reV'</span></em>, <em class="sig-param"><span class="n">feature</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">stdout_path</span><span class="o">=</span><span class="default_value">'./stdout'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#PBS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.PBS" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#rex.utilities.execution.SubprocessManager" title="rex.utilities.execution.SubprocessManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">rex.utilities.execution.SubprocessManager</span></code></a></p>
<p>Subclass for PBS subprocess jobs.</p>
<p>Initialize and submit a PBS job.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>cmd</strong> (<em>str</em>) –</p>
<dl class="simple">
<dt>Command to be submitted in PBS shell script. Example:</dt><dd><p>‘python -m reV.generation.cli_gen’</p>
</dd>
</dl>
</li>
<li><p><strong>alloc</strong> (<em>str</em>) – HPC allocation account. Example: ‘rev’.</p></li>
<li><p><strong>queue</strong> (<em>str</em>) – HPC queue to submit job to. Example: ‘short’, ‘batch-h’, etc…</p></li>
<li><p><strong>name</strong> (<em>str</em>) – PBS job name.</p></li>
<li><p><strong>feature</strong> (<em>str | None</em>) – PBS feature request (-l {feature}).
Example: ‘feature=24core’, ‘qos=high’, etc…</p></li>
<li><p><strong>stdout_path</strong> (<em>str</em>) – Path to print .stdout and .stderr files.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="rex.utilities.execution.PBS.check_status">
<em class="property">static </em><code class="sig-name descname">check_status</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">job</span></em>, <em class="sig-param"><span class="n">var</span><span class="o">=</span><span class="default_value">'id'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#PBS.check_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.PBS.check_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the status of this PBS job using qstat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job</strong> (<em>str</em>) – Job name or ID number.</p></li>
<li><p><strong>var</strong> (<em>str</em>) – Identity/type of job identification input arg (‘id’ or ‘name’).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>out</strong> (<em>str or NoneType</em>) – Qstat job status character or None if not found.
Common status codes: Q, R, C (queued, running, complete).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.PBS.qstat">
<em class="property">static </em><code class="sig-name descname">qstat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#PBS.qstat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.PBS.qstat" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the PBS qstat command and return the stdout split to rows.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>qstat_rows</strong> (<em>list | None</em>) – List of strings where each string is a row in the qstat printout.
Returns None if qstat is empty.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.PBS.qsub">
<code class="sig-name descname">qsub</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cmd</span></em>, <em class="sig-param"><span class="n">alloc</span></em>, <em class="sig-param"><span class="n">queue</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'reV'</span></em>, <em class="sig-param"><span class="n">feature</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">stdout_path</span><span class="o">=</span><span class="default_value">'./stdout'</span></em>, <em class="sig-param"><span class="n">keep_sh</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#PBS.qsub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.PBS.qsub" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit a PBS job via qsub command and PBS shell script</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>cmd</strong> (<em>str</em>) –</p>
<dl class="simple">
<dt>Command to be submitted in PBS shell script. Example:</dt><dd><p>‘python -m reV.generation.cli_gen’</p>
</dd>
</dl>
</li>
<li><p><strong>alloc</strong> (<em>str</em>) – HPC allocation account. Example: ‘rev’.</p></li>
<li><p><strong>queue</strong> (<em>str</em>) – HPC queue to submit job to. Example: ‘short’, ‘batch-h’, etc…</p></li>
<li><p><strong>name</strong> (<em>str</em>) – PBS job name.</p></li>
<li><p><strong>feature</strong> (<em>str | None</em>) – PBS feature request (-l {feature}).
Example: ‘feature=24core’, ‘qos=high’, etc…</p></li>
<li><p><strong>stdout_path</strong> (<em>str</em>) – Path to print .stdout and .stderr files.</p></li>
<li><p><strong>keep_sh</strong> (<em>bool</em>) – Boolean to keep the .sh files. Default is to remove these files
after job submission.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>out</strong> (<em>str</em>) – qsub standard output, this is typically the PBS job ID.</p></li>
<li><p><strong>err</strong> (<em>str</em>) – qsub standard error, this is typically an empty string if the job
was submitted successfully.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="rex.utilities.execution.SLURM">
<em class="property">class </em><code class="sig-prename descclassname">rex.utilities.execution.</code><code class="sig-name descname">SLURM</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cmd</span></em>, <em class="sig-param"><span class="n">alloc</span></em>, <em class="sig-param"><span class="n">walltime</span></em>, <em class="sig-param"><span class="n">memory</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">feature</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'reV'</span></em>, <em class="sig-param"><span class="n">stdout_path</span><span class="o">=</span><span class="default_value">'./stdout'</span></em>, <em class="sig-param"><span class="n">conda_env</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">module</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">module_root</span><span class="o">=</span><span class="default_value">'/shared-projects/rev/modulefiles'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SLURM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SLURM" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#rex.utilities.execution.SubprocessManager" title="rex.utilities.execution.SubprocessManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">rex.utilities.execution.SubprocessManager</span></code></a></p>
<p>Subclass for SLURM subprocess jobs.</p>
<p>Initialize and submit a PBS job.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>cmd</strong> (<em>str</em>) –</p>
<dl class="simple">
<dt>Command to be submitted in PBS shell script. Example:</dt><dd><p>‘python -m reV.generation.cli_gen’</p>
</dd>
</dl>
</li>
<li><p><strong>alloc</strong> (<em>str</em>) – HPC project (allocation) handle. Example: ‘rev’.</p></li>
<li><p><strong>walltime</strong> (<em>float</em>) – Node walltime request in hours.</p></li>
<li><p><strong>memory</strong> (<em>int, Optional</em>) – Node memory request in GB.</p></li>
<li><p><strong>feature</strong> (<em>str</em>) – Additional flags for SLURM job. Format is “–qos=high”
or “–depend=[state:job_id]”. Default is None.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – SLURM job name.</p></li>
<li><p><strong>stdout_path</strong> (<em>str</em>) – Path to print .stdout and .stderr files.</p></li>
<li><p><strong>conda_env</strong> (<em>str</em>) – Conda environment to activate</p></li>
<li><p><strong>module</strong> (<em>str</em>) – Module to load</p></li>
<li><p><strong>module_root</strong> (<em>str</em>) – Path to module root to load</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="rex.utilities.execution.SLURM.check_status">
<em class="property">static </em><code class="sig-name descname">check_status</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">job</span></em>, <em class="sig-param"><span class="n">var</span><span class="o">=</span><span class="default_value">'id'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SLURM.check_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SLURM.check_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the status of this PBS job using qstat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job</strong> (<em>str</em>) – Job name or ID number.</p></li>
<li><p><strong>var</strong> (<em>str</em>) – Identity/type of job identification input arg (‘id’ or ‘name’).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>out</strong> (<em>str | NoneType</em>) – squeue job status str or None if not found.
Common status codes: PD, R, CG (pending, running, complete).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SLURM.squeue">
<em class="property">static </em><code class="sig-name descname">squeue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SLURM.squeue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SLURM.squeue" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the SLURM squeue command and return the stdout split to rows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str | None</em>) – Optional to check the squeue for a specific job name (not limited
to the 8 shown characters) or show users whole squeue.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>squeue_rows</strong> (<em>list | None</em>) – List of strings where each string is a row in the squeue printout.
Returns None if squeue is empty.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SLURM.scontrol">
<em class="property">static </em><code class="sig-name descname">scontrol</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cmd</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SLURM.scontrol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SLURM.scontrol" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit an scontrol command.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cmd</strong> (<em>str</em>) – Command string after “scontrol” word</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SLURM.scancel">
<em class="property">static </em><code class="sig-name descname">scancel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SLURM.scancel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SLURM.scancel" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancel a slurm job.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>arg</strong> (<em>int | list | str</em>) – SLURM job id(s) to cancel. Can be a list of integer job ids, ‘all’
to cancel all jobs, or a feature (-p short) to cancel all jobs
with a given feature</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SLURM.change_qos">
<em class="property">static </em><code class="sig-name descname">change_qos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em>, <em class="sig-param"><span class="n">qos</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SLURM.change_qos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SLURM.change_qos" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the priority (quality of service) for a job.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arg</strong> (<em>int | list | str</em>) – SLURM job id(s) to change qos for. Can be ‘all’ for all jobs.</p></li>
<li><p><strong>qos</strong> (<em>str</em>) – New qos value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SLURM.hold">
<em class="property">static </em><code class="sig-name descname">hold</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SLURM.hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SLURM.hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily hold a job from submitting. Held jobs will stay in queue
but will not get nodes until released.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>arg</strong> (<em>int | list | str</em>) – SLURM job id(s) to hold. Can be ‘all’ to hold all jobs.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SLURM.release">
<em class="property">static </em><code class="sig-name descname">release</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SLURM.release"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SLURM.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a job that was previously on hold so it will be submitted
to a compute node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>arg</strong> (<em>int | list | str</em>) – SLURM job id(s) to release. Can be ‘all’ to release all jobs.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SLURM.sbatch">
<code class="sig-name descname">sbatch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cmd</span></em>, <em class="sig-param"><span class="n">alloc</span></em>, <em class="sig-param"><span class="n">walltime</span></em>, <em class="sig-param"><span class="n">memory</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">feature</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'reV'</span></em>, <em class="sig-param"><span class="n">stdout_path</span><span class="o">=</span><span class="default_value">'./stdout'</span></em>, <em class="sig-param"><span class="n">keep_sh</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">conda_env</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">module</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">module_root</span><span class="o">=</span><span class="default_value">'/shared-projects/rev/modulefiles'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SLURM.sbatch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SLURM.sbatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit a SLURM job via sbatch command and SLURM shell script</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>cmd</strong> (<em>str</em>) –</p>
<dl class="simple">
<dt>Command to be submitted in PBS shell script. Example:</dt><dd><p>‘python -m reV.generation.cli_gen’</p>
</dd>
</dl>
</li>
<li><p><strong>alloc</strong> (<em>str</em>) – HPC project (allocation) handle. Example: ‘rev’.</p></li>
<li><p><strong>walltime</strong> (<em>float</em>) – Node walltime request in hours.</p></li>
<li><p><strong>memory</strong> (<em>int</em>) – Node memory request in GB.</p></li>
<li><p><strong>feature</strong> (<em>str</em>) – Additional flags for SLURM job. Format is “–qos=high”
or “–depend=[state:job_id]”. Default is None.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – SLURM job name.</p></li>
<li><p><strong>stdout_path</strong> (<em>str</em>) – Path to print .stdout and .stderr files.</p></li>
<li><p><strong>keep_sh</strong> (<em>bool</em>) – Boolean to keep the .sh files. Default is to remove these files
after job submission.</p></li>
<li><p><strong>conda_env</strong> (<em>str</em>) – Conda environment to activate</p></li>
<li><p><strong>module</strong> (<em>bool</em>) – Module to load</p></li>
<li><p><strong>module_root</strong> (<em>str</em>) – Path to module root to load</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>out</strong> (<em>str</em>) – sbatch standard output, this is typically the SLURM job ID.</p></li>
<li><p><strong>err</strong> (<em>str</em>) – sbatch standard error, this is typically an empty string if the job
was submitted successfully.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="rex.utilities.execution.SpawnProcessPool">
<em class="property">class </em><code class="sig-prename descclassname">rex.utilities.execution.</code><code class="sig-name descname">SpawnProcessPool</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="n">loggers</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SpawnProcessPool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SpawnProcessPool" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">concurrent.futures.process.ProcessPoolExecutor</span></code></p>
<p>An adaptation of concurrent futures ProcessPoolExecutor with
spawn processes instead of fork or forkserver.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>loggers</strong> (<em>str | list, optional</em>) – logger(s) to initialize on workers, by default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="rex.utilities.execution.execute_parallel">
<code class="sig-prename descclassname">rex.utilities.execution.</code><code class="sig-name descname">execute_parallel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fun</span></em>, <em class="sig-param"><span class="n">execution_iter</span></em>, <em class="sig-param"><span class="n">n_workers</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#execute_parallel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.execute_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute concurrent futures with an established cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fun</strong> (<em>function</em>) – Python function object that will be submitted to futures. See
downstream execution methods for arg passing structure.</p></li>
<li><p><strong>execution_iter</strong> (<em>iter</em>) – Python iterator that controls the futures submitted in parallel.</p></li>
<li><p><strong>n_workers</strong> (<em>int</em>) – Number of workers to run in parallel</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Key word arguments passed to the fun.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>results</strong> (<em>list</em>) – List of futures results.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="rex.utilities.execution.execute_single">
<code class="sig-prename descclassname">rex.utilities.execution.</code><code class="sig-name descname">execute_single</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fun</span></em>, <em class="sig-param"><span class="n">input_obj</span></em>, <em class="sig-param"><span class="n">worker</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#execute_single"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.execute_single" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a serial compute on a single core.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fun</strong> (<em>function</em>) – Function to execute.</p></li>
<li><p><strong>input_obj</strong> (<em>object</em>) – Object passed as first argument to fun. Typically a project control
object that can be the result of iteration in the parallel execution
framework.</p></li>
<li><p><strong>worker</strong> (<em>int</em>) – Worker number (for debugging purposes).</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Key word arguments passed to fun.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="rex.utilities.execution.SmartParallelJob">
<em class="property">class </em><code class="sig-prename descclassname">rex.utilities.execution.</code><code class="sig-name descname">SmartParallelJob</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">execution_iter</span></em>, <em class="sig-param"><span class="n">n_workers</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mem_util_lim</span><span class="o">=</span><span class="default_value">0.7</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SmartParallelJob"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SmartParallelJob" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Single node parallel compute manager with smart data flushing.</p>
<p>Single node parallel compute manager with smart data flushing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>object</em>) – Python object that will be submitted to futures. Must have methods
run(arg) and flush(). run(arg) must take the iteration result of
execution_iter as the single positional argument. Additionally,
the results of obj.run(arg) will be pa ssed to obj.out. obj.out
will be passed None when the memory is to be cleared. It is
advisable that obj.run() be a &#64;staticmethod for dramatically
faster submission in parallel.</p></li>
<li><p><strong>execution_iter</strong> (<em>iter</em>) – Python iterator that controls the futures submitted in parallel.</p></li>
<li><p><strong>n_workers</strong> (<em>int</em>) – Number of workers to use in parallel. None will use all
available workers.</p></li>
<li><p><strong>mem_util_lim</strong> (<em>float</em>) – Memory utilization limit (fractional). If the used memory divided
by the total memory is greater than this value, the obj.out will
be flushed and the local node memory will be cleared.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="rex.utilities.execution.SmartParallelJob.execution_iter">
<em class="property">property </em><code class="sig-name descname">execution_iter</code><a class="headerlink" href="#rex.utilities.execution.SmartParallelJob.execution_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the iterator object that controls the parallel execution.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>_execution_iter</strong> (<em>iterable</em>) – Iterable object that controls the processes of the parallel job.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SmartParallelJob.mem_util_lim">
<em class="property">property </em><code class="sig-name descname">mem_util_lim</code><a class="headerlink" href="#rex.utilities.execution.SmartParallelJob.mem_util_lim" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the memory utilization limit (fractional).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>_mem_util_lim</strong> (<em>float</em>) – Fractional memory utilization limit. If the used memory divided
by the total memory is greater than this value, the obj.out will
be flushed and the local node memory will be cleared.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SmartParallelJob.n_workers">
<em class="property">property </em><code class="sig-name descname">n_workers</code><a class="headerlink" href="#rex.utilities.execution.SmartParallelJob.n_workers" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of workers in the local cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>_n_workers</strong> (<em>int</em>) – Number of workers. Default value is the number of CPU’s.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SmartParallelJob.obj">
<em class="property">property </em><code class="sig-name descname">obj</code><a class="headerlink" href="#rex.utilities.execution.SmartParallelJob.obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the main python object that will be submitted to futures.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>_obj</strong> (<em>Object</em>) – Python object that will be submitted to futures. Must have methods
run(arg) and flush(). run(arg) must take the iteration result of
execution_iter as the single positional argument. Additionally,
the results of obj.run(arg) will be passed to obj.out. obj.out
will be passed None when the memory is to be cleared. It is
advisable that obj.run() be a &#64;staticmethod for dramatically
faster submission in parallel.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SmartParallelJob.flush">
<code class="sig-name descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SmartParallelJob.flush"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SmartParallelJob.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush obj.out to disk, set obj.out=None, and garbage collect.</p>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SmartParallelJob.gather_and_flush">
<code class="sig-name descname">gather_and_flush</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">futures</span></em>, <em class="sig-param"><span class="n">force_flush</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SmartParallelJob.gather_and_flush"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SmartParallelJob.gather_and_flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait on futures, potentially update obj.out and flush to disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>int | str</em>) – Iteration number (for logging purposes).</p></li>
<li><p><strong>futures</strong> (<em>list</em>) – List of parallel future objects to wait on or gather.</p></li>
<li><p><strong>force_flush</strong> (<em>bool</em>) – Option to force a disk flush. Useful for end-of-iteration. If this
is False, will only flush to disk if the memory utilization exceeds
the mem_util_lim.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>futures</strong> (<em>list</em>) – List of parallel future objects. If the memory was flushed, this is
a cleared list: futures.clear()</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SmartParallelJob.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SmartParallelJob.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SmartParallelJob.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run ParallelSmartJobs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kwargs</strong> (<em>dict</em>) – Keyword arguments to be passed to obj.run(). Makes it easier to
have obj.run() as a &#64;staticmethod.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="rex.utilities.execution.SmartParallelJob.execute">
<em class="property">classmethod </em><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">execution_iter</span></em>, <em class="sig-param"><span class="n">n_workers</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mem_util_lim</span><span class="o">=</span><span class="default_value">0.7</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/rex/utilities/execution.html#SmartParallelJob.execute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rex.utilities.execution.SmartParallelJob.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the smart parallel run with data flushing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>object</em>) – Python object that will be submitted to futures. Must have methods
run(arg) and flush(). run(arg) must take the iteration result of
execution_iter as the single positional argument. Additionally,
the results of obj.run(arg) will be passed to obj.out. obj.out
will be passed None when the memory is to be cleared. It is
advisable that obj.run() be a &#64;staticmethod for dramatically
faster submission in parallel.</p></li>
<li><p><strong>execution_iter</strong> (<em>iter</em>) – Python iterator that controls the futures submitted in parallel.</p></li>
<li><p><strong>n_workers</strong> (<em>int</em>) – Number of workers to scale the cluster to. None will use all
available workers in a local cluster.</p></li>
<li><p><strong>mem_util_lim</strong> (<em>float</em>) – Memory utilization limit (fractional). If the used memory divided
by the total memory is greater than this value, the obj.out will
be flushed and the local node memory will be cleared.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Keyword arguments to be passed to obj.run(). Makes it easier to
have obj.run() as a &#64;staticmethod.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="rex.utilities.loggers.html" class="btn btn-neutral float-right" title="rex.utilities.loggers module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="rex.utilities.exceptions.html" class="btn btn-neutral float-left" title="rex.utilities.exceptions module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Alliance for Sustainable Energy, LLC

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>